<% include ./partials/header %>
<link rel="stylesheet" href="/certificate.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
  crossorigin="anonymous"></script>
</head>
<body>
  <!-- <% include ./partials/navbar %> -->
<div class="container">

       <center> 
        <div id="card" class="card my-5">
                
          <div class="card-body text-center">
                
                <div id="user-info">
                <img id="logo" src="/assets/inventologo.png" alt="">
                <div id="congratulations" class="card-title">Certificate of Participation</div>

                    <div class="card-text">This is to certify that <br> <strong>Mr./Ms. <%= user.fullName%></strong><br> participated in the Invento Quiz Contest 2019</div>
                    <br>
                    Score: <strong><%= score %>/15</strong>
               
                </div>

                <br>
              
      
          </div>
        </center>
        </div>
        <br>
        <div id="buttons" class="text-center">
            <a class="btn btn-sm mr-2" id="accept"><i class="fas fa-download"></i> Download</a>
            <a class="btn btn-sm mr-2" id="reject" href="/auth/logout">Sign Out</a>

          </div>
      </div>

        <script>
        $('#accept').click(function () {
                var pdf = new jsPDF();
                
                var specialElementHandlers = {
                    '#editor': function (element, renderer) {
                        return true;
                    }
                };
                pdf.addHTML($('#card'),
                    {'width' : 1700, 'elementHandlers': specialElementHandlers},
                    function (dispose){
                        pdf.save('invento_certificate.pdf')
                    })

                // doc.fromHTML($('#card').html(), 1, 1, {
                //     'width': 170,
                //         'elementHandlers': specialElementHandlers
                // }, function (){
                //     doc.save('invento_certificate.pdf');
                // });
        });
    </script>
<% include ./partials/footer %>